<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>function</title>
</head>
<body>

<script type="text/javascript">
    /**
     * 综合练习：
     * 1.定义功能，完成对数组的最值获取。
     * 2.对数组排个序。
     * 3.对数组查个找。
     * 4.对数组元素进行反转。
     */

    var arr = [22, 324, 56, 3, 5, 67, 89];

    //1.取最值
    function getMaxvalue(arr) {
        var maxValue = 0;
        for (var i = 1; i < arr.length; i++) {
            if (arr[i] > arr[maxValue]) {
                maxValue = i;
            }
        }
        return arr[maxValue];
    }
    function println(value) {
        document.write(value + "<br/>");
    }

    println("原始数组为arr为：" + arr);
    println("1.数组arr的最值为：" + getMaxvalue(arr));

    //=========================================================
    //2.排序
    function sortArray(arr) {
        //因为javascript是基于对象，数组也是一个对象，变量名是指向对象的，
        //所有必须重新new一个对象出来，将原数组中的值赋值给新数组，
        //好在javascript中数组长度是可变的。
        var arrTemp = [];
        for (var i = 0; i < arr.length; i++) {
            arrTemp[i] = arr[i];
        }

        for (var i = 0; i < arrTemp.length - 1; i++) {
            for (var j = i + 1; j < arrTemp.length; j++) {
                if (arrTemp[i] > arrTemp[j]) {
                    swap(arrTemp, i, j);
                }
            }
        }
        return arrTemp;
    }
    function swap(arrTemp, i, j) {
        var temp = arrTemp[i];
        arrTemp[i] = arrTemp[j];
        arrTemp[j] = temp;
    }
    println("2.排序后的数组arr为：" + sortArray(arr));

    //================================================
    //查找
    function searchElement(arr, key) {
        for (var i = 0; i < arr.length; i++) {
            if (arr[i] == key) {
                return i;
            }
        }
        return -1;
    }
    println("3.查看数组arr中的89的位置为：" + searchElement(arr, 89));

    //折半查找（必须是有序的数组才行）
    function binarySearch(arr, key) {
        var arrTemp = [];
        for (var i = 0; i < arr.length; i++) {
            arrTemp[i] = arr[i];
        }

        var max, min, mid;
        min = 0;
        max = arrTemp.length - 1;
        while (min <= max) {
            mid = min + max >> 1;//>>表示向右移动一位，转化为二级制右移一位
            if (key > arrTemp[mid]) {
                min = mid + 1;
            } else if (key < arrTemp[mid]) {
                max = mid - 1;
            } else {
                return mid;
            }
        }
        return -1;
    }
    println("3.查看数组arr中的5的位置为：" + binarySearch(arr, 5));
    //================================================
    //反转
    function reverseArray(arr) {
        var arrTemp = [];
        for (var i = 0; i < arr.length; i++) {
            arrTemp[i] = arr[i];
        }

        for (var start = 0, end = arrTemp.length - 1; start < end; start++, end--) {
            swap(arrTemp, start, end);
        }
        return arrTemp;
    }
    println("4.反转后的数组arr为：" + reverseArray(arr));

</script>


</body>
</html>